import a from"regenerator-runtime";function b(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function c(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||d(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function d(a,c){if(a){if("string"==typeof a)return b(a,c);var d=Object.prototype.toString.call(a).slice(8,-1);if("Object"===d&&a.constructor&&(d=a.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return b(a,c)}}var e=React.useState,f=React.useMemo;export default function g(b){var d,g,h=b.setActive,i=c(e(decodeURIComponent(location.hash.replace("#",""))),2),j=i[0],k=i[1],l=c(e(""),2),m=l[0],n=l[1],o=f(function(){return"TIME"===m?React.createElement("p",null," Please enter a valid date "):"NAME"===m?React.createElement("p",null," Please enter a name "):null},[m]);return React.createElement("div",{className:"window appointment"},o?React.createElement("div",{className:"error"},o):null,React.createElement("form",{className:"form-container",onSubmit:(d=a.mark(function b(c){var d,e,f,g;return a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),d=document.getElementById("bookingDate"),!(!(f=(e=new Date(d.value)).getTime())||null===f)){a.next=4;break}return a.abrupt("return",n("TIME"));case 4:if(j){a.next=6;break}return a.abrupt("return",n("NAME"));case 6:return a.next=8,fetch("/dashboard/book",{body:JSON.stringify({name:j,time:f}),method:"POST",headers:{"Content-Type":"application/json"}}).catch(console.error);case 8:return g=a.sent,a.abrupt("return",(200===g.status&&(location.hash="",location.search+="?app=true",h(2),location.reload(!0)),null));case 10:case"end":return a.stop()}},b)}),g=function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){e(f,c,e,g,h,"next",a)}function h(a){e(f,c,e,g,h,"throw",a)}g(void 0)})},function(a){return g.apply(this,arguments)})},React.createElement("label",{htmlFor:"name"}," Doctor Name"),React.createElement("input",{className:"form-control",name:"name",type:"text",value:j,onChange:function(a){k(a.target.value)}}),React.createElement("label",{htmlFor:"myDateTimeLocal"}," Appointment Time "),React.createElement("input",{type:"datetime-local",name:"myDateTimeLocal",id:"bookingDate",className:"form-control",defaultValue:new Date().toISOString().substring(0,23)}),React.createElement("input",{className:"btn btn-primary btn-block",type:"submit",value:"Submit"})))}