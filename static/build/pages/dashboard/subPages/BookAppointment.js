const{useState,useMemo}=React;export default function BookAppointment({setActive:a}){const[b,c]=useState(decodeURIComponent(location.hash.replace("#",""))),[d,f]=useState(""),g=useMemo(()=>"TIME"===d?/*#__PURE__*/React.createElement("p",null," Please enter a valid date "):"NAME"===d?/*#__PURE__*/React.createElement("p",null," Please enter a name "):null,[d]);return/*#__PURE__*/React.createElement("div",{className:"window appointment"},g?/*#__PURE__*/React.createElement("div",{className:"error"},g):null,/*#__PURE__*/React.createElement("form",{className:"form-container",onSubmit:async function(c){c.preventDefault();const d=document.getElementById("bookingDate"),e=new Date(d.value),g=e.getTime();if(!g||null===g)return f("TIME");if(!b)return f("NAME");const h=await fetch("/dashboard/book",{body:JSON.stringify({name:b,time:g}),method:"POST",headers:{"Content-Type":"application/json"}}).catch(console.error);return 200===h.status&&(location.hash="",location.search+="?app=true",a(2),location.reload(!0)),null}},/*#__PURE__*/React.createElement("label",{htmlFor:"name"}," Doctor Name"),/*#__PURE__*/React.createElement("input",{className:"form-control",name:"name",type:"text",value:b,onChange:function(a){c(a.target.value)}}),/*#__PURE__*/React.createElement("label",{htmlFor:"myDateTimeLocal"}," Appointment Time "),/*#__PURE__*/React.createElement("input",{type:"datetime-local",name:"myDateTimeLocal",id:"bookingDate",className:"form-control",defaultValue:new Date().toISOString().substring(0,23)}),/*#__PURE__*/React.createElement("input",{className:"btn btn-primary btn-block",type:"submit",value:"Submit"})))}