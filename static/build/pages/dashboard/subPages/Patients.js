import a from"regenerator-runtime";import b from"./Paginator.js";function c(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){e(f,d,e,g,h,"next",a)}function h(a){e(f,d,e,g,h,"throw",a)}g(void 0)})}}export default function d(d){var f=function(a){return i.apply(this,arguments)},g=d.patients,h=function(a){return fetch("/dashboard/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})};function i(){return(i=c(a.mark(function a(b){var c;return b.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h({patient_name:b,completed:!0}).catch(console.error);case 2:200===(c=a.sent).status&&window.location.reload();case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}return React.createElement("div",{className:"window patients"}," ",React.createElement(b,{data:g.sort(function(a){return"pending"===a.status?-1:1}),click:f,makeComponent:function(b){return React.createElement(e,{data:b,click:f,addDetails:(c(a.mark(function b(c){var d,e;return a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=prompt("Enter note:",""),a.next=3,h({patient_name:c,note:d}).catch(console.error);case 3:200===(e=a.sent).status&&window.location.reload();case 5:case"end":return a.stop()}},b)})),function(a){return a.apply(this,arguments)}),key:b.patient_username})}})," ")};function e(a){var b=a.data,c=a.click,d=a.addDetails,e=b.patient_username,f=b.time,g=b.status,h=b.details,i=new Date(+f),j=window.metadata.doctor,k=j.meet_id;return React.createElement("div",{className:"doctor patient",key:e},React.createElement("div",{className:"doctorProfile"},React.createElement("div",{className:"image"}," ",React.createElement("object",{data:"/static/images/doctor.svg","aria-label":"admin"})," "),React.createElement("span",null,e)),React.createElement("div",{className:"doctorDetails"},React.createElement("span",null,"Time: ",i.toString().split("GMT")[0]),React.createElement("span",null,"Details: ",h)),React.createElement("div",{className:"bookingButton bookingControl"},"pending"===g?React.createElement(React.Fragment,null,React.createElement("button",{className:"btn btn-primary btn-block"},React.createElement("a",{href:"https://meet.google.com/"+k},"Join Meet")),React.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return d(e)}},"Add Note"),React.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return c(e)}},"Mark as complete")):React.createElement("div",{className:"block-cursor"},React.createElement("button",{className:"btn btn-primary btn-block finished",disabled:!0}," ","Marked Complete"))))}